<!DOCTYPE html>
<html>
<head>
    <title>QR Code Test</title>
    <style>
        body { font-family: monospace; padding: 20px; }
        .test { margin: 20px 0; padding: 20px; border: 1px solid #ccc; }
        img { border: 1px solid #000; margin: 10px; }
    </style>
</head>
<body>
    <h1>QR Code Generation Test</h1>
    
    <div class="test">
        <h2>Test 1: Ethereum Address</h2>
        <div id="test1"></div>
    </div>
    
    <div class="test">
        <h2>Test 2: Short Text</h2>
        <div id="test2"></div>
    </div>
    
    <div class="test">
        <h2>Test 3: URL</h2>
        <div id="test3"></div>
    </div>

    <script src="extension/qr-lite.js"></script>
    <script>
        // Test cases
        const tests = [
            { id: 'test1', text: 'ethereum:0x742d35Cc6634C0532925a3b844Bc9e7595f0bEb0', label: 'ETH Address' },
            { id: 'test2', text: 'Hello World!', label: 'Short Text' },
            { id: 'test3', text: 'https://example.com', label: 'URL' }
        ];
        
        tests.forEach(test => {
            const container = document.getElementById(test.id);
            
            try {
                const qrDataUrl = window.generateQRCode(test.text, 200);
                const img = document.createElement('img');
                img.src = qrDataUrl;
                img.width = 200;
                img.height = 200;
                
                const info = document.createElement('div');
                info.innerHTML = `<strong>${test.label}:</strong> ${test.text}<br>✅ QR Generated Successfully`;
                
                container.appendChild(img);
                container.appendChild(info);
            } catch (e) {
                container.innerHTML = `<div style="color: red;">❌ Failed: ${e.message}</div>`;
            }
        });
        
        console.log('✅ All QR codes generated. Test them with a QR scanner app!');
    </script>
</body>
</html>